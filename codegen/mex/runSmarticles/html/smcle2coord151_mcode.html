<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="60,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%return coordinates of 4 points from smarticle position 5-tuple</span></span></span>
<span class="srcline"><span class="lineno"><a href="60,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%in: [cx,cy, theta, al1, al2] - c.o.m coord, body orientation, arm angles (left, right)</span></span></span>
<span class="srcline"><span class="lineno"><a href="60,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%out: [x1,y1, x2,y2, x3,y3, x4,y4]</span></span></span>
<span class="srcline"><span class="lineno"><a href="60,4" id="srcline4"> 4</a></span><span class="line"><span class="keyword">function</span> [<span class="var type0" id="S2T0U3">crd</span>] = smcle2coord(<span class="var type0" id="S3T0U6">sm</span>) <span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="60,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">global</span> <span class="var type0" id="S4T0U8">A</span> <span class="var type0" id="S5T0U9">B</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="60,6" id="srcline6"> 6</a></span><span class="line"><span class="var type0" id="S6T0U12">delB</span>=<span class="mxinfo " id="T10:U1"><span class="var type1" id="S5T10U15"><span class="message error" id="M20F151C">B</span></span></span>/2*[sin(<span class="var type0" id="S3T0U22">sm</span>(:,3)), -cos(<span class="var type0" id="S3T0U29">sm</span>(:,3))];</span></span>
<span class="srcline"><span class="lineno"><a href="60,7" id="srcline7"> 7</a></span><span class="line"><span class="var type0" id="S2T0U34">crd</span>=zeros(length(<span class="var type0" id="S3T0U40"><span class="message error" id="M21F151C">sm</span></span>(:,1)),8);</span></span>
<span class="srcline"><span class="lineno"><a href="60,8" id="srcline8"> 8</a></span><span class="line"><span class="var type0" id="S2T0U47">crd</span>(:,3:4)=<span class="var type0" id="S3T0U54"><span class="message error" id="M22F151C">sm</span></span>(:,1:2)-<span class="var type0" id="S6T0U59">delB</span>; <span class="var type0" id="S2T0U63">crd</span>(:,5:6)=<span class="var type0" id="S3T0U70"><span class="message error" id="M23F151C">sm</span></span>(:,1:2)+<span class="var type0" id="S6T0U75">delB</span>; </span></span>
<span class="srcline"><span class="lineno"><a href="60,9" id="srcline9"> 9</a></span><span class="line"><span class="var type0" id="S2T0U79">crd</span>(:,1:2)=<span class="var type0" id="S2T0U86"><span class="message error" id="M24F151C">crd</span></span>(:,3:4)+ <span class="var type1" id="S4T1U92">A</span>*[-sin(<span class="var type0" id="S3T0U100">sm</span>(:,3)-<span class="var type0" id="S3T0U104">sm</span>(:,4)), cos(<span class="var type0" id="S3T0U111">sm</span>(:,3)-<span class="var type0" id="S3T0U115">sm</span>(:,4))];</span></span>
<span class="srcline"><span class="lineno"><a href="60,10" id="srcline10">10</a></span><span class="line"><span class="var type0" id="S2T0U121">crd</span>(:,7:8)=<span class="var type0" id="S2T0U128"><span class="message error" id="M25F151C">crd</span></span>(:,5:6)- <span class="var type0" id="S4T0U134">A</span>*[-sin(<span class="var type0" id="S3T0U142">sm</span>(:,3)+<span class="var type0" id="S3T0U146">sm</span>(:,5)), cos(<span class="var type0" id="S3T0U153">sm</span>(:,3)+<span class="var type0" id="S3T0U157">sm</span>(:,5))];</span></span>
<span class="srcline"><span class="lineno"><a href="60,11" id="srcline11">11</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
