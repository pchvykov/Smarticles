<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="59,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%return coordinates of 4 points from smarticle position 5-tuple</span></span></span>
<span class="srcline"><span class="lineno"><a href="59,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%in: [cx,cy, theta, al1, al2] - c.o.m coord, body orientation, arm angles (left, right)</span></span></span>
<span class="srcline"><span class="lineno"><a href="59,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%out: [x1,y1, x2,y2, x3,y3, x4,y4]</span></span></span>
<span class="srcline"><span class="lineno"><a href="59,4" id="srcline4"> 4</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T62U3">crd</span>] = smcle2coord(<span class="var type1" id="S3T17U6">sm</span>) <span class="comment">%#codegen</span></span></span>
<span class="srcline"><span class="lineno"><a href="59,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">global</span> <span class="var type0" id="S4T0U8">A</span> <span class="var type0" id="S5T0U9">B</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="59,6" id="srcline6"> 6</a></span><span class="line"><span class="mxinfo " id="T23:U3"><span class="var type1" id="S6T23U12">delB</span>=<span class="mxinfo " id="T23:U5"><span class="mxinfo " id="T6:U6"><span class="var type1" id="S5T6U15">B</span>/<span class="mxinfo " id="T6:U8">2</span></span>*<span class="mxinfo " id="T23:U9">[<span class="mxinfo " id="T19:U10">sin(<span class="mxinfo " id="T19:U11"><span class="var type1" id="S3T17U22">sm</span>(<span class="mxinfo " id="T13:U13">:</span>,<span class="mxinfo " id="T8:U14">3</span>)</span>)</span>, <span class="mxinfo " id="T19:U15">-<span class="mxinfo " id="T19:U16">cos(<span class="mxinfo " id="T19:U17"><span class="var type1" id="S3T17U29">sm</span>(<span class="mxinfo " id="T13:U19">:</span>,<span class="mxinfo " id="T8:U20">3</span>)</span>)</span></span>]</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="59,7" id="srcline7"> 7</a></span><span class="line"><span class="mxinfo " id="T62:U21"><span class="var type1" id="S2T62U34">crd</span>=<span class="mxinfo " id="T62:U23">zeros(<span class="mxinfo " id="T6:U24">length(<span class="var type1" id="S3T17U40">sm</span>(:,1))</span>,<span class="mxinfo " id="T6:U26">8</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="59,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T23:U27"><span class="mxinfo " id="T23:U28"><span class="var type1" id="S2T62U47">crd</span>(<span class="mxinfo " id="T13:U30">:</span>,<span class="mxinfo " id="T12:U31"><span class="mxinfo " id="T6:U32">3</span>:<span class="mxinfo " id="T6:U33">4</span></span>)</span>=<span class="mxinfo " id="T23:U34"><span class="mxinfo " id="T23:U35"><span class="var type1" id="S3T17U54">sm</span>(<span class="mxinfo " id="T13:U37">:</span>,<span class="mxinfo " id="T12:U38"><span class="mxinfo " id="T6:U39">1</span>:<span class="mxinfo " id="T6:U40">2</span></span>)</span>-<span class="var type1" id="S6T23U59">delB</span></span></span>; <span class="mxinfo " id="T23:U42"><span class="mxinfo " id="T23:U43"><span class="var type1" id="S2T62U63">crd</span>(<span class="mxinfo " id="T13:U45">:</span>,<span class="mxinfo " id="T12:U46"><span class="mxinfo " id="T6:U47">5</span>:<span class="mxinfo " id="T6:U48">6</span></span>)</span>=<span class="mxinfo " id="T23:U49"><span class="mxinfo " id="T23:U50"><span class="var type1" id="S3T17U70">sm</span>(<span class="mxinfo " id="T13:U52">:</span>,<span class="mxinfo " id="T12:U53"><span class="mxinfo " id="T6:U54">1</span>:<span class="mxinfo " id="T6:U55">2</span></span>)</span>+<span class="var type1" id="S6T23U75">delB</span></span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="59,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T23:U57"><span class="mxinfo " id="T23:U58"><span class="var type1" id="S2T62U79">crd</span>(<span class="mxinfo " id="T13:U60">:</span>,<span class="mxinfo " id="T12:U61"><span class="mxinfo " id="T6:U62">1</span>:<span class="mxinfo " id="T6:U63">2</span></span>)</span>=<span class="mxinfo " id="T23:U64"><span class="mxinfo " id="T23:U65"><span class="var type1" id="S2T62U86">crd</span>(<span class="mxinfo " id="T13:U67">:</span>,<span class="mxinfo " id="T12:U68"><span class="mxinfo " id="T6:U69">3</span>:<span class="mxinfo " id="T6:U70">4</span></span>)</span>+ <span class="mxinfo " id="T23:U71"><span class="var type1" id="S4T6U92">A</span>*<span class="mxinfo " id="T23:U73">[<span class="mxinfo " id="T19:U74">-<span class="mxinfo " id="T19:U75">sin(<span class="mxinfo " id="T19:U76"><span class="mxinfo " id="T19:U77"><span class="var type1" id="S3T17U100">sm</span>(<span class="mxinfo " id="T13:U79">:</span>,<span class="mxinfo " id="T8:U80">3</span>)</span>-<span class="mxinfo " id="T19:U81"><span class="var type1" id="S3T17U104">sm</span>(<span class="mxinfo " id="T13:U83">:</span>,<span class="mxinfo " id="T6:U84">4</span>)</span></span>)</span></span>, <span class="mxinfo " id="T19:U85">cos(<span class="mxinfo " id="T19:U86"><span class="mxinfo " id="T19:U87"><span class="var type1" id="S3T17U111">sm</span>(<span class="mxinfo " id="T13:U89">:</span>,<span class="mxinfo " id="T8:U90">3</span>)</span>-<span class="mxinfo " id="T19:U91"><span class="var type1" id="S3T17U115">sm</span>(<span class="mxinfo " id="T13:U93">:</span>,<span class="mxinfo " id="T6:U94">4</span>)</span></span>)</span>]</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="59,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T23:U95"><span class="mxinfo " id="T23:U96"><span class="var type1" id="S2T62U121">crd</span>(<span class="mxinfo " id="T13:U98">:</span>,<span class="mxinfo " id="T12:U99"><span class="mxinfo " id="T6:U100">7</span>:<span class="mxinfo " id="T6:U101">8</span></span>)</span>=<span class="mxinfo " id="T23:U102"><span class="mxinfo " id="T23:U103"><span class="var type1" id="S2T62U128">crd</span>(<span class="mxinfo " id="T13:U105">:</span>,<span class="mxinfo " id="T12:U106"><span class="mxinfo " id="T6:U107">5</span>:<span class="mxinfo " id="T6:U108">6</span></span>)</span>- <span class="mxinfo " id="T23:U109"><span class="var type1" id="S4T6U134">A</span>*<span class="mxinfo " id="T23:U111">[<span class="mxinfo " id="T19:U112">-<span class="mxinfo " id="T19:U113">sin(<span class="mxinfo " id="T19:U114"><span class="mxinfo " id="T19:U115"><span class="var type1" id="S3T17U142">sm</span>(<span class="mxinfo " id="T13:U117">:</span>,<span class="mxinfo " id="T8:U118">3</span>)</span>+<span class="mxinfo " id="T19:U119"><span class="var type1" id="S3T17U146">sm</span>(<span class="mxinfo " id="T13:U121">:</span>,<span class="mxinfo " id="T6:U122">5</span>)</span></span>)</span></span>, <span class="mxinfo " id="T19:U123">cos(<span class="mxinfo " id="T19:U124"><span class="mxinfo " id="T19:U125"><span class="var type1" id="S3T17U153">sm</span>(<span class="mxinfo " id="T13:U127">:</span>,<span class="mxinfo " id="T8:U128">3</span>)</span>+<span class="mxinfo " id="T19:U129"><span class="var type1" id="S3T17U157">sm</span>(<span class="mxinfo " id="T13:U131">:</span>,<span class="mxinfo " id="T6:U132">5</span>)</span></span>)</span>]</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="59,11" id="srcline11">11</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
